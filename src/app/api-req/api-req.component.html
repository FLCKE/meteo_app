<section class="row p-5 container-fluid text-white"
    *ngIf="weekPrevision && dayPrevision && dayByHourPrevision ; else elseblock">

    <div class="col ms-2 pe-5 pt-5 border rounded  " style="background-color: rgba(255, 255, 255, 0.5);">
        <div *ngIf="weekPrevision">
            <ul *ngFor="let day of weekPrevision.forecast , let i=index">
                <div *ngIf="i<7" class="d-flex justify-content-between">
                    <h6>{{datePipe.transform(day.datetime, 'EEEE')}}</h6>
                    <h6 class="text-center">{{weather[day.weather]}} </h6>
                    <h6>{{(day.tmin+day.tmax)/2}}°C</h6>
                </div>
            </ul>
        </div>
    </div>
    <div class="col mx-2 text-center border rounded " style="background-color: rgba(255, 255, 255, 0.5);">
        <h5 class="mt-3">
            Position actuelle: <br> {{cityname}}
        </h5>
        <div *ngIf="dayPrevision">
            <h1 style="font-size:5rem;" class="my-5"> {{(dayPrevision.forecast.tmin+dayPrevision.forecast.tmax)/2}} °C
            </h1>
            <h5> {{weather[dayPrevision.forecast.weather]}} </h5>
            <div class="d-flex justify-content-between">
                <h5> Probabilté de pluie: </h5>
                <h5> {{dayPrevision.forecast.probarain}} %</h5>

            </div>
            <div class="d-flex justify-content-between">
                <h5>Heure d'ensoleillement:</h5>
                <h5> {{dayPrevision.forecast.sun_hours}} Heure </h5>

            </div>
        </div>
    </div>
    <div class="col pe-4  text-center border rounded " style="background-color: rgba(255, 255, 255, 0.5);">
        <div *ngIf="dayByHourPrevision">
            <ul *ngFor="let horaire of dayByHourPrevision.forecast , let i=index">
                <div class="d-flex justify-content-between my-4">
                    <h5>{{horaire.datetime | date: 'HH:mm:ss'}} </h5>
                    <h5 class="text-center">{{weather[horaire.weather]}} </h5>
                    <h5> {{horaire.temp2m}}°C</h5>

                </div>
            </ul>
        </div>
    </div>
</section>
<ng-template #elseblock>
    <div class="text-center  " style="margin-top:10%">
        <div class="spinner-grow text-light" style="width: 5rem; height: 5rem;" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
    </div>
</ng-template>